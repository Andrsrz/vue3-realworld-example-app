let e=document.createElement("style");e.innerHTML=".space[data-v-39761b44]{margin-right:4px}",document.head.appendChild(e);import{d as a,E as s,G as l,H as o,c as n,I as i,u as t,y as r,r as c,a as u,b as d,t as g,e as f,f as p,F as m,z as v,n as w,o as P,p as b,q as y}from"./index.faa9444c.js";import{u as h,a as A}from"./followProfile.a9f092a9.js";var k=a({name:"Profile",components:{ArticlePreview:s,ArticlesNavigation:l,Pagination:o},setup(){const e=t(),a=r(),s=n((()=>a.name)),l=n((()=>a.params.username)),o=n((()=>e.state.user)),{profile:c,updateProfile:u}=h(l.value),{followProcessGoing:d,toggleFollow:g}=A({following:n((()=>c.following)),username:l}),f=n((()=>null!==e.state.user)),p=n((()=>f.value&&o.value.username===l.value)),m=n((()=>f.value&&o.value.username!==l.value)),{articlesDownloading:v,articlesCount:w,articles:P,page:b,changePage:y,updateArticle:k}=i({routeName:s,username:l});return{username:l,profile:c,articlesDownloading:v,articles:P,articlesCount:w,page:b,changePage:y,updateArticle:k,isMyProfile:p,isNotMyProfile:m,routeName:s,followProcessGoing:d,toggleFollow:async function(){const e=await g();u(e)}}}});const C=w("data-v-39761b44");b("data-v-39761b44");const N={class:"profile-page"},x={class:"user-info"},F={class:"container"},M={class:"row"},G={class:"col-xs-12 col-md-10 offset-md-1"},D={key:0},E=d("i",{class:"ion-gear-a space"},null,-1),U=p(" Edit profile settings "),_=d("i",{class:"ion-plus-round space"},null,-1),j={class:"container"},H={class:"row"},I={class:"col-xs-12 col-md-10 offset-md-1"},L={class:"articles-toggle"},q={key:0,class:"article-preview"};y();const z=C((function(e,a,s,l,o,n){const i=c("AppLink"),t=c("ArticlesNavigation"),r=c("ArticlePreview"),w=c("Pagination");return P(),u("div",N,[d("div",x,[d("div",F,[d("div",M,[d("div",G,[d("img",{src:e.profile.image,class:"user-img"},null,8,["src"]),d("h4",null,g(e.profile.username),1),e.profile.bio?(P(),u("p",D,g(e.profile.bio),1)):f("",!0),e.isMyProfile?(P(),u(i,{key:1,class:"btn btn-sm btn-outline-secondary action-btn",name:"settings"},{default:C((()=>[E,U])),_:1})):f("",!0),e.isNotMyProfile?(P(),u("button",{key:2,class:"btn btn-sm btn-outline-secondary action-btn",disabled:e.followProcessGoing,onClick:a[1]||(a[1]=(...a)=>e.toggleFollow(...a))},[_,p(" "+g(e.profile.following?"Unfollow":"Follow")+" "+g(e.profile.username),1)],8,["disabled"])):f("",!0)])])])]),d("div",j,[d("div",H,[d("div",I,[d("div",L,[d(t,{"use-author":e.username,"use-favorited":e.username},null,8,["use-author","use-favorited"])]),e.articlesDownloading?(P(),u("div",q," Articles are downloading... ")):(P(),u(m,{key:1},[(P(!0),u(m,null,v(e.articles,((a,s)=>(P(),u(r,{key:a.slug,article:a,onUpdate:a=>e.updateArticle(s,a)},null,8,["article","onUpdate"])))),128)),d(w,{count:e.articlesCount,page:e.page,onPageChange:e.changePage},null,8,["count","page","onPageChange"])],64))])])])])}));k.render=z,k.__scopeId="data-v-39761b44";export default k;
