let e=document.createElement("style");e.innerHTML=".space[data-v-7a2b6835]{margin-right:4px}",document.head.appendChild(e);import{m as a,n as s,e as t,D as n,l as i,d as l,E as o,G as r,H as c,f as u,q as p,h as f,r as d,c as m,a as v,t as g,i as b,b as y,F as h,x as w,j as A,o as C,p as U,k}from"./index.2b3b8553.js";const x=e=>{const i=a([]),l=a(0),o=a(1);return s(async()=>{const a=await async function(e,a=1){const s={limit:n,offset:(a-1)*n,favorited:e};return t.get("/articles",{params:s})}(e,o.value);i.value=a.articles,l.value=a.articlesCount}),{articles:i,articlesCount:l,page:o}};const P=e=>{const i=a([]),l=a(0),o=a(1);return s(async()=>{const a=await async function(e,a=1){const s={limit:n,offset:(a-1)*n,author:e};return t.get("/articles",{params:s})}(e,o.value);i.value=a.articles,l.value=a.articlesCount}),{articles:i,articlesCount:l,page:o}};function _(e){const a=i({});async function n(){const s=await async function(e){return t.get("/profiles/"+e).then(e=>e.profile)}(e);Object.assign(a,s)}return s(()=>{n()}),{profile:a}}var j=l({name:"Profile",components:{ArticlePreview:o,ArticlesNavigation:r,Pagination:c},setup(){const e=f(),a=p(),s=u(()=>a.params.username),{profile:t}=_(s.value),n="profile"===a.name?P:x,{articles:i,articlesCount:l,page:o}=n(s.value);return{username:s,profile:t,articles:i,articlesCount:l,page:o,onArticleUpdate:(e,a)=>{i.value[e]=a},isUserAuthorized:u(()=>null!==e.state.user),routeName:u(()=>a.name)}}});const E=A("data-v-7a2b6835");U("data-v-7a2b6835");const N={class:"profile-page"},z={class:"user-info"},F={class:"container"},H={class:"row"},L={class:"col-xs-12 col-md-10 offset-md-1"},q={key:0},D=v("i",{class:"ion-gear-a space"},null,-1),G=y(" Edit profile settings "),I={key:2,class:"btn btn-sm btn-outline-secondary action-btn"},M=v("i",{class:"ion-plus-round space"},null,-1),O={class:"container"},T={class:"row"},B={class:"col-xs-12 col-md-10 offset-md-1"},J={class:"articles-toggle"};k();const K=E((function(e,a,s,t,n,i){const l=d("AppLink"),o=d("ArticlesNavigation"),r=d("ArticlePreview"),c=d("Pagination");return C(),m("div",N,[v("div",z,[v("div",F,[v("div",H,[v("div",L,[v("img",{src:e.profile.image,class:"user-img"},null,8,["src"]),v("h4",null,g(e.profile.username),1),e.profile.bio?(C(),m("p",q,g(e.profile.bio),1)):b("v-if",!0),e.isUserAuthorized?(C(),m(l,{key:1,class:"btn btn-sm btn-outline-secondary action-btn",name:"settings"},{default:E(()=>[D,G]),_:1})):(C(),m("button",I,[M,y(" "+g(e.profile.following?"Unfollow":"Follow")+" "+g(e.profile.username),1)]))])])])]),v("div",O,[v("div",T,[v("div",B,[v("div",J,[v(o,{"use-author":e.username,"use-favorited":e.username},null,8,["use-author","use-favorited"])]),(C(!0),m(h,null,w(e.articles,(a,s)=>(C(),m(r,{key:a.slug,article:a,onUpdate:a=>e.onArticleUpdate(s,a)},null,8,["article","onUpdate"]))),128)),v(c,{count:e.articlesCount,page:e.page},null,8,["count","page"])])])])])}));j.render=K,j.__scopeId="data-v-7a2b6835",j.__file="src/pages/Profile.vue";export default j;
