let t=document.createElement("style");t.innerHTML="",document.head.appendChild(t);import{e,d as a,f as l,l as s,m as o,y as r,s as i,q as n,g as c,c as d,a as u,z as m,A as p,B as f,C as g,F as y,x as b,o as v,b as h,t as T}from"./index.5236e93e.js";var w=a({name:"EditArticle",setup(){const t=n(),a=c(),d=l(()=>t.params.slug),u=s({title:"",description:"",body:"",tagList:[]}),m=o("");r(()=>{d.value&&async function(t){const e=await i(t);u.title=e.title,u.description=e.description,u.body=e.body,u.tagList=e.tagList}(d.value)});return{form:u,onSubmit:async()=>{let t;return t=d.value?await async function(t,a){return e.put("/articles/"+t,{article:a}).then(t=>t.article)}(d.value,u):await async function(t){return e.post("/articles",{article:t}).then(t=>t.article)}(u),a.push({name:"article",params:{slug:t.slug}})},newTag:m,addTag:()=>{u.tagList.push(m.value.trim()),m.value=""},removeTag:t=>{u.tagList=u.tagList.filter(e=>e!==t)}}}});const x={class:"editor-page"},L={class:"container page"},A={class:"row"},C={class:"col-md-10 offset-md-1 col-xs-12"},k={class:"form-group"},E={class:"form-group"},U={class:"form-group"},V={class:"form-group"},S={class:"tag-list"};w.render=function(t,e,a,l,s,o){return v(),d("div",x,[u("div",L,[u("div",A,[u("div",C,[u("form",{onSubmit:e[7]||(e[7]=m((...e)=>t.onSubmit(...e),["prevent"]))},[u("fieldset",k,[p(u("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>t.form.title=e),type:"text",class:"form-control form-control-lg",placeholder:"Article Title"},null,512),[[f,t.form.title]])]),u("fieldset",E,[p(u("input",{"onUpdate:modelValue":e[2]||(e[2]=e=>t.form.description=e),type:"text",class:"form-control form-control-lg",placeholder:"What's this article about?"},null,512),[[f,t.form.description]])]),u("fieldset",U,[p(u("textarea",{"onUpdate:modelValue":e[3]||(e[3]=e=>t.form.body=e),rows:8,class:"form-control",placeholder:"Write your article (in markdown)"},null,512),[[f,t.form.body]])]),u("fieldset",V,[p(u("input",{"onUpdate:modelValue":e[4]||(e[4]=e=>t.newTag=e),type:"text",class:"form-control",placeholder:"Enter tags",onChange:e[5]||(e[5]=(...e)=>t.addTag(...e)),onKeypress:e[6]||(e[6]=g(m((...e)=>t.addTag(...e),["prevent"]),["enter"]))},null,544),[[f,t.newTag]]),u("div",S,[(v(!0),d(y,null,b(t.form.tagList,e=>(v(),d("span",{key:e,class:"tag-default tag-pill"},[u("i",{class:"ion-close-round",onClick:a=>t.removeTag(e)},null,8,["onClick"]),h(" "+T(e),1)]))),128))])]),u("button",{class:"btn btn-lg pull-xs-right btn-primary",type:"submit",disabled:!(t.form.title&&t.form.description&&t.form.body)}," Publish Article ",8,["disabled"])],32)])])])])},w.__file="src/pages/EditArticle.vue";export default w;
