import{r as e,d as s,n as r,k as a,D as o,s as l,b as t,e as n,f as m,y as u,F as c,m as i,x as d,q as f,v as p,o as g,h as b,g as h}from"./index.0bed9f75.js";var y=s({name:"Register",setup(){const{updateUser:s}=l.user,t=r(null),n=a({username:"",email:"",password:""});return{formRef:t,form:n,register:async()=>{if(t.value?.checkValidity())try{const r=await async function(s){return e.post("/users",{user:s}).then((e=>e.user))}(n);s(r),o("global-feed")}catch(e){console.error(e)}},errors:[]}}});const x={class:"auth-page"},v={class:"container page"},w={class:"row"},k={class:"col-md-6 offset-md-3 col-xs-12"},q=m("h1",{class:"text-xs-center"}," Sign up ",-1),R={class:"text-xs-center"},U=h(" Have an account? "),V={class:"error-messages"},S={class:"form-group"},L={class:"form-group"},j={class:"form-group"};y.render=function(e,s,r,a,o,l){const h=t("AppLink");return g(),n("div",x,[m("div",v,[m("div",w,[m("div",k,[q,m("p",R,[m(h,{name:"login"},{default:u((()=>[U])),_:1})]),m("ul",V,[(g(!0),n(c,null,i(e.errors,(([e,s])=>(g(),n("li",{key:e},b(e)+" "+b(s[0]),1)))),128))]),m("form",{ref:"formRef",onSubmit:s[4]||(s[4]=d(((...s)=>e.onRegister(...s)),["prevent"]))},[m("fieldset",S,[f(m("input",{"onUpdate:modelValue":s[1]||(s[1]=s=>e.form.username=s),class:"form-control form-control-lg",type:"text",required:"",placeholder:"Your Name"},null,512),[[p,e.form.username]])]),m("fieldset",L,[f(m("input",{"onUpdate:modelValue":s[2]||(s[2]=s=>e.form.email=s),class:"form-control form-control-lg",type:"email",required:"",placeholder:"Email"},null,512),[[p,e.form.email]])]),m("fieldset",j,[f(m("input",{"onUpdate:modelValue":s[3]||(s[3]=s=>e.form.password=s),class:"form-control form-control-lg",type:"password",minLength:8,required:"",placeholder:"Password"},null,512),[[p,e.form.password]])]),m("button",{type:"submit",class:"btn btn-lg btn-primary pull-xs-right",disabled:!(e.form.email&&e.form.username&&e.form.password)}," Sign up ",8,["disabled"])],544)])])])])};export default y;
