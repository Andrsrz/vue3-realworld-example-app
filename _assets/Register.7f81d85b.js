import{r as e,I as s,B as r,C as a,d as o,n as l,k as t,a as n,s as u,b as m,e as i,f as c,y as d,F as f,m as p,x as g,q as v,v as b,o as h,h as w,g as x}from"./index.52c6ec0d.js";var y=o({name:"Register",setup(){const{updateUser:o}=u.user,m=l(null),i=t({username:"",email:"",password:""}),c=l({});return{formRef:m,form:i,register:async()=>{if(!m.value?.checkValidity())return;const l=await async function(o){const l=await e.checkablePost("/users",{user:o}),t=s(l);return t.isOk()?r(t.value.user):a(t.value)}(i);l.isOk()?(o(l.value),n("global-feed")):c.value=await l.value.getErrors()},errors:c}}});const k={class:"auth-page"},q={class:"container page"},U={class:"row"},V={class:"col-md-6 offset-md-3 col-xs-12"},R=c("h1",{class:"text-xs-center"}," Sign up ",-1),S={class:"text-xs-center"},E=x(" Have an account? "),L={class:"error-messages"},O={class:"form-group"},P={class:"form-group"},j={class:"form-group"};y.render=function(e,s,r,a,o,l){const t=m("AppLink");return h(),i("div",k,[c("div",q,[c("div",U,[c("div",V,[R,c("p",S,[c(t,{name:"login"},{default:d((()=>[E])),_:1})]),c("ul",L,[(h(!0),i(f,null,p(e.errors,((e,s)=>(h(),i("li",{key:s},w(s)+" "+w(e[0]),1)))),128))]),c("form",{ref:"formRef",onSubmit:s[4]||(s[4]=g(((...s)=>e.register(...s)),["prevent"]))},[c("fieldset",O,[v(c("input",{"onUpdate:modelValue":s[1]||(s[1]=s=>e.form.username=s),class:"form-control form-control-lg",type:"text",required:"",placeholder:"Your Name"},null,512),[[b,e.form.username]])]),c("fieldset",P,[v(c("input",{"onUpdate:modelValue":s[2]||(s[2]=s=>e.form.email=s),class:"form-control form-control-lg",type:"email",required:"",placeholder:"Email"},null,512),[[b,e.form.email]])]),c("fieldset",j,[v(c("input",{"onUpdate:modelValue":s[3]||(s[3]=s=>e.form.password=s),class:"form-control form-control-lg",type:"password",minLength:8,required:"",placeholder:"Password"},null,512),[[b,e.form.password]])]),c("button",{type:"submit",class:"btn btn-lg btn-primary pull-xs-right",disabled:!(e.form.email&&e.form.username&&e.form.password)}," Sign up ",8,["disabled"])],544)])])])])};export default y;
