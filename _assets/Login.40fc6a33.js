import{r as s,d as e,n as r,k as a,D as o,s as l,b as t,e as n,f as i,y as c,F as d,m,x as u,q as f,v as p,o as g,h as b,g as y}from"./index.0bed9f75.js";var h=e({name:"Login",setup(){const{updateUser:e}=l.user,t=r(null),n=a({email:"",password:""});return{formRef:t,form:n,login:async()=>{if(t.value?.checkValidity())try{const r=await async function(e){return s.post("/users/login",{user:e}).then((s=>s.user))}(n);e(r),o("global-feed")}catch(s){console.error(s)}},errors:[]}}});const x={class:"auth-page"},v={class:"container page"},w={class:"row"},k={class:"col-md-6 offset-md-3 col-xs-12"},q=i("h1",{class:"text-xs-center"}," Sign in ",-1),S={class:"text-xs-center"},U=y(" Need an account? "),V={class:"error-messages"},L={class:"form-group","aria-required":"true"},R={class:" form-group"};h.render=function(s,e,r,a,o,l){const y=t("AppLink");return g(),n("div",x,[i("div",v,[i("div",w,[i("div",k,[q,i("p",S,[i(y,{name:"register"},{default:c((()=>[U])),_:1})]),i("ul",V,[(g(!0),n(d,null,m(s.errors,(([s,e])=>(g(),n("li",{key:s},b(s)+" "+b(e[0]),1)))),128))]),i("form",{ref:"formRef",onSubmit:e[3]||(e[3]=u(((...e)=>s.login(...e)),["prevent"]))},[i("fieldset",L,[f(i("input",{"onUpdate:modelValue":e[1]||(e[1]=e=>s.form.email=e),class:"form-control form-control-lg",type:"email",required:"",placeholder:"Email"},null,512),[[p,s.form.email]])]),i("fieldset",R,[f(i("input",{"onUpdate:modelValue":e[2]||(e[2]=e=>s.form.password=e),class:"form-control form-control-lg",type:"password",required:"",placeholder:"Password"},null,512),[[p,s.form.password]])]),i("button",{class:"btn btn-lg btn-primary pull-xs-right",disabled:!s.form.email||!s.form.password,type:"submit"}," Sign in ",8,["disabled"])],544)])])])])};export default h;
