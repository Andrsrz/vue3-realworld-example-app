import{z as a,a as e,r as n,A as o,B as t,C as s,k as l,D as i}from"./index.52c6ec0d.js";function c({username:l,following:i,onUpdate:c}){const{active:r,run:u}=a((async function(){let a;a=!0===i.value?await async function(a){const e=await n.checkableDelete(`/profiles/${a}/follow`),l=o(e);return l.isOk()?t(l.value.profile):s(l.value)}(l.value):await async function(a){const e=await n.checkablePost(`/profiles/${a}/follow`),l=o(e);return l.isOk()?t(l.value.profile):s(l.value)}(l.value),a.isOk()?c(a.value):e("login")}));return{followProcessGoing:r,toggleFollow:u}}function r(a){const e=l({});async function o(){t(await async function(a){return n.get("/profiles/"+a).then((a=>a.profile))}(a))}async function t(a){Object.assign(e,a)}return i((()=>{o()})),{profile:e,updateProfile:t}}export{r as a,c as u};
