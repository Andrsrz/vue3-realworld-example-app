import{r as a,z as e,A as n,B as o,C as t,a as s,k as i,D as l}from"./index.a602e92b.js";function c({username:i,following:l,onUpdate:c}){const{active:r,run:u}=t((async function(){let t;t=!0===l.value?await async function(t){const s=await a.checkableDelete(`/profiles/${t}/follow`),i=e(s);return i.isOk()?n(i.value.profile):o(i.value)}(i.value):await async function(t){const s=await a.checkablePost(`/profiles/${t}/follow`),i=e(s);return i.isOk()?n(i.value.profile):o(i.value)}(i.value),t.isOk()?c(t.value):await s("login")}));return{followProcessGoing:r,toggleFollow:u}}function r(e){const n=i({});async function o(){t(await async function(e){return a.get("/profiles/"+e).then((a=>a.profile))}(e))}async function t(a){Object.assign(n,a)}return l((()=>{o()})),{profile:n,updateProfile:t}}export{r as a,c as u};
