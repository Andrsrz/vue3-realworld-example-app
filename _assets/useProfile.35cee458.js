import{r as a,B as e,C as n,D as o,E as t,a as i,m as s,G as l}from"./index.07c17c27.js";function c({username:s,following:l,onUpdate:c}){const{active:u,run:r}=t((async function(){let t;t=!0===l.value?await async function(t){const i=await a.checkableDelete(`/profiles/${t}/follow`),s=e(i);return s.isOk()?n(s.value.profile):o(s.value)}(s.value):await async function(t){const i=await a.checkablePost(`/profiles/${t}/follow`),s=e(i);return s.isOk()?n(s.value.profile):o(s.value)}(s.value),t.isOk()?c(t.value):await i("login")}));return{followProcessGoing:u,toggleFollow:r}}function u({username:e}){const n=s({});async function o(a){Object.assign(n,a)}return l(e,(async function(){o(await async function(e){return a.get("/profiles/"+e).then((a=>a.profile))}(e.value))}),{immediate:!0}),{profile:n,updateProfile:o}}export{u as a,c as u};
