let e=document.createElement("style");e.innerHTML=".space[data-v-7a2b6835]{margin-right:4px}",document.head.appendChild(e);import{d as a,E as s,G as l,H as o,c as i,I as n,u as t,y as r,r as c,a as u,b as d,t as g,e as f,f as p,F as m,z as v,n as w,o as P,p as b,q as y}from"./index.7aa046b2.js";import{u as h,a as A}from"./followProfile.d864da25.js";var k=a({name:"Profile",components:{ArticlePreview:s,ArticlesNavigation:l,Pagination:o},setup(){const e=t(),a=r(),s=i(()=>a.name),l=i(()=>a.params.username),o=i(()=>e.state.user),{profile:c,updateProfile:u}=h(l.value),{followProcessGoing:d,toggleFollow:g}=A({following:i(()=>c.following),username:l}),f=i(()=>null!==e.state.user),p=i(()=>f.value&&o.value.username===l.value),m=i(()=>f.value&&o.value.username!==l.value),{articlesDownloading:v,articlesCount:w,articles:P,page:b,changePage:y,updateArticle:k}=n({routeName:s,username:l});return{username:l,profile:c,articlesDownloading:v,articles:P,articlesCount:w,page:b,changePage:y,updateArticle:k,isMyProfile:p,isNotMyProfile:m,routeName:s,followProcessGoing:d,toggleFollow:async function(){const e=await g();u(e)}}}});const N=w("data-v-7a2b6835");b("data-v-7a2b6835");const x={class:"profile-page"},C={class:"user-info"},F={class:"container"},M={class:"row"},_={class:"col-xs-12 col-md-10 offset-md-1"},G={key:0},D=d("i",{class:"ion-gear-a space"},null,-1),E=p(" Edit profile settings "),U=d("i",{class:"ion-plus-round space"},null,-1),j={class:"container"},H={class:"row"},I={class:"col-xs-12 col-md-10 offset-md-1"},L={class:"articles-toggle"},q={key:0,class:"article-preview"};y();const z=N((function(e,a,s,l,o,i){const n=c("AppLink"),t=c("ArticlesNavigation"),r=c("ArticlePreview"),w=c("Pagination");return P(),u("div",x,[d("div",C,[d("div",F,[d("div",M,[d("div",_,[d("img",{src:e.profile.image,class:"user-img"},null,8,["src"]),d("h4",null,g(e.profile.username),1),e.profile.bio?(P(),u("p",G,g(e.profile.bio),1)):f("v-if",!0),e.isMyProfile?(P(),u(n,{key:1,class:"btn btn-sm btn-outline-secondary action-btn",name:"settings"},{default:N(()=>[D,E]),_:1})):f("v-if",!0),e.isNotMyProfile?(P(),u("button",{key:2,class:"btn btn-sm btn-outline-secondary action-btn",disabled:e.followProcessGoing,onClick:a[1]||(a[1]=(...a)=>e.toggleFollow(...a))},[U,p(" "+g(e.profile.following?"Unfollow":"Follow")+" "+g(e.profile.username),1)],8,["disabled"])):f("v-if",!0)])])])]),d("div",j,[d("div",H,[d("div",I,[d("div",L,[d(t,{"use-author":e.username,"use-favorited":e.username},null,8,["use-author","use-favorited"])]),e.articlesDownloading?(P(),u("div",q," Articles are downloading... ")):(P(),u(m,{key:1},[(P(!0),u(m,null,v(e.articles,(a,s)=>(P(),u(r,{key:a.slug,article:a,onUpdate:a=>e.updateArticle(s,a)},null,8,["article","onUpdate"]))),128)),d(w,{count:e.articlesCount,page:e.page,"onPage-change":e.changePage},null,8,["count","page","onPage-change"])],64))])])])])}));k.render=z,k.__scopeId="data-v-7a2b6835",k.__file="src/pages/Profile.vue";export default k;
